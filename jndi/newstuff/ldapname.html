<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
    

<html lang="en-US" xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>操纵 LdapName(专有名称)(Java™ 教程-Java Tutorials 中文版&gt;Java 命名和目录接口&gt;New features in JDK 5.0 and JDK 6)
</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
     <meta name="description" content="This JNDI Java tutorial describes Java Naming and Directory Interface (JNDI) technology, naming and directory operations, and LDAP" />
     <meta name="keywords" content="java programming, learn java, java sample code, jndi, ldap, jndi service provider" />
        
<style type="text/css">
    body {
        margin-left:10px;
        margin-right:10px;
        line-height: 1.5;
        FONT-FAMILY: Arial, Helvetica, sans-serif; 
        font-size: 0.8em;
    }
    
    a:link{text-decoration:none; color:#09569d;}
    a:visited{text-decoration:none; color: #3a87cf;}
    a:hover{text-decoration:underline; }
        
    code{
        font-family:Monaco,Courier,"Courier New";
    }
    
    .header-container {
        background-color: #fff;
        border-bottom: 1px solid #C1CFDA;
        -webkit-box-shadow: 0 2px 2px rgba(117, 163, 231, 0.1);
        box-shadow: 0 2px 2px rgba(117, 163, 231, 0.1);
    }
    
    .bookwrapper {
        width: auto;
        margin: auto;
    }
    
    .clearfix {
    }
    
    .clearfloat {
        clear: both;
        overflow: auto;
        height: 0px;
        font-size: 1px;
        line-height: 0px;
    }
    
    #brandProdName {
        width: auto;
        height: auto;
    }
    
    #logocover {
        display: block;
        background: transparent url(../../images/oracle-java-logo.png) 0px 0px no-repeat;
        height: 50px;
        width: 229px;
        float: left;
    }
    
    #productName {
        font-size: 16px;
        position: relative;
        top: 19px;
        padding-left: 3px;
        color: #457798;
        white-space: nowrap;
        width: 340px;
    }


    .FigureCaption   { 
        font-family: sans-serif; 
        text-align: center;
    }
    
    #TopBar_bl {        
        width: 100%;
        height: 60px;
    }
    #TopBar_br {
        width: 100%;
        height: 60px;
    }
    #TopBar_tl {
        margin-left: -110px;
        margin-right: -100px;       
		align: left;
        height: 60px;
    }
    #TopBar_tr {
        width: 100%;
        height: 60px;
    }
    
    #TopBar {
        min-width:700px;
        padding:25px 100px 10px;
        margin-bottom:25px;
        clear:both;
        
        border-bottom:1px solid #d2dde5;
        border-radius: 3px;
    
        background:#efefef; /* Old browsers */
        /* IE9 SVG, needs conditional override of 'filter' to 'none' */
        background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNlMmVmZjkiIHN0b3Atb3BhY2l0eT0iMSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);
        background: -moz-linear-gradient(top,  #ffffff 0%, #e2eff9 100%); /* FF3.6+ */
        background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#ffffff), color-stop(100%,#e2eff9)); /* Chrome,Safari4+ */
        background: -webkit-linear-gradient(top,  #ffffff 0%,#e2eff9 100%); /* Chrome10+,Safari5.1+ */
        background: -o-linear-gradient(top,  #ffffff 0%,#e2eff9 100%); /* Opera 11.10+ */
        background: -ms-linear-gradient(top,  #ffffff 0%,#e2eff9 100%); /* IE10+ */
        background: linear-gradient(to bottom,  #ffffff 0%,#e2eff9 100%); /* W3C */
        filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#ffffff', endColorstr='#e2eff9',GradientType=0 ); /* IE6-8 */
        
    }
    
    #TopBar_left {
        line-height: 14px;
        position: absolute;
        padding-top: 30px;
        padding-right: 30px;
        padding-left: 30px;
        text-align: left;
        font: 13px/20px Arial, Helvetica, sans-serif;
        font-weight: bold;
        font-size: 20px;
        color: #333;
    }
    
    #TopBar_right {
        line-height: 12px;
        float: right;
        padding-top: 10px;
        padding-right: 30px;
        text-align: left;
    }
    

    @media print {
        #BreadCrumbs, #Download {
            display: none;
        }
    }
    
     
    @media print {
        #TopBar_right {
            display: none;
        }
    }
    #TopBar_right a {
        font-size: 10px;
        margin: 3px;
        padding: 0;
    }
 
    #BreadCrumbs {
        padding: 15px 5px 0.5em 0;
        font-family: sans-serif; 
        float: right;
    }
    
    #BreadCrumbs a {
        color:#09569d;
    }
    
    #BreadCrumbs a:visited, #BreadCrumbs a:link {
        text-decoration: none;
    }
    
    #BreadCrumbs a:hover, #BreadCrumbs a:active {
        text-decoration: underline;
    }
    
    #PageTitle {
        margin: 0 5px 0.5em 0;
        color: #F90000;
    }
    
    #PageContent{
        margin: 0 5px 0 20px;
    }
    
    .LeftBar_shown {
        width: 13em;
        float: left;
    }
    
    @media print {
        .LeftBar_shown {
            display: none;
        }
    }
    
    .LeftBar_hidden {
        display: none;
    }
    
    #Footer {
        padding-top: 10px;
        padding-left: 10px;
        margin-right: 10px;       
    }
    
    .footertext {
        font-size: 10px;
        font-family: sans-serif; 
        margin-top: 1px;
    }

    .NavBit  {
        padding: 15px 5px 0.5em 0;
        font-family: sans-serif; 
    }
    
    @media print {
        .NavBit {
            display: none;
        }
    }
    
    #TagNotes {
        text-align: right;        
    }
    
    @media print {
        #TagNotes a:visited, #TagNotes a:link {
            color: #35556B;
            text-decoration: none;
        }
    }
    
    #Contents a, .NavBit a, #TagNotes a {
        color:#09569d;
    }
    
    #TagNotes a:visited, #TagNotes a:link,
    #Contents a:visited, #Contents a:link,
    .NavBit a:visited, .NavBit a:link {
        text-decoration: none;
    }
    
    #TagNotes a:hover, #TagNotes a:active,   
    #Contents a:hover, #Contents a:active,   
    .NavBit a:hover, .NavBit a:active {  
        text-decoration: underline;
    }
    
    #Contents {
        float: left;
        font-family: sans-serif; 
    }
    @media print {
        #Contents {
            display: none;
        }
    }
    @media screen {
        div.PrintHeaders {
            display: none;
        }
    }
    .linkLESSON, .nolinkLESSON {
        margin-left: 0.5em;
        text-indent: -0.5em;
    }
    .linkAHEAD, .nolinkAHEAD, .linkQUESTIONS, .nolinkQUESTIONS   {
        margin-left: 1.5em; 
        text-indent: -0.5em
    }
    .linkBHEAD, .nolinkBHEAD   {
        margin-left: 2.5em;
        text-indent: -0.5em
    }
    .linkCHEAD, .nolinkCHEAD   {
        margin-left: 3.5em;
        text-indent: -0.5em
    }
    .nolinkLESSON, .nolinkAHEAD, .nolinkBHEAD, .nolinkCHEAD,
    .nolinkQUESTIONS {
        font-weight: bold;
        color: #333;
		
		
    }
    .MainFlow_indented {
        margin-right: 10px;
        margin-left: 15em;
        margin-bottom: 2em;

    }
    .MainFlow_wide {
	
        margin-right: 10px;
        margin-left: 10px;
        margin-bottom: 2em;

    }
    @media print {
        .MainFlow_indented, .MainFlow_wide {
            padding-top: 0;
            margin-top: 10px;
            margin-right: 10px;
            margin-left: 0;
        }
    }
    h1, h2, h3, h4, h5 {
        color: #333;
        
    }

    h1 {
        font-weight: bold;
        font-size: 20px;
    }

    h2 {
        font-weight: bold;
        font-size: 17px;
    }

    h3 {
        font-weight: bold;
        font-size: 14px;
    }

    h4 {
        font-size: 15px;
    }

    h5 {
        font-size: 12px;
    }


    #ToggleLeft {
        display: none;
    }
    
    .note {
        margin: 0 30px 0px 30px;
    }
    
    .codeblock {
        margin: 0 30px 0px 30px;
		font-size:12px;
		font-family:Monaco,Courier,"Courier New";
    }
    
    .tocli {
        list-style-type:none;
    }

    .betadraft {
        color: red;
    }

</style>
<script type="text/javascript">
/* <![CDATA[ */
    function leftBar() {
        var nameq = 'tutorial_showLeftBar='
        var cookies = document.cookie.split(';');
        for (var i = 0; i < cookies.length; i++) {
            var cookieString = cookies[i];
            while (cookieString.charAt(0) == ' ') {
                cookieString = cookieString.substring(1, cookieString.length);
            }
            if (cookieString.indexOf(nameq) == 0) {
                cookieValue =  cookieString.substring(nameq.length,
                        cookieString.length);
                return cookieValue == 'yes';
            }
        }
        return true;
    }

    function showLeft(b) {
        var contents = document.getElementById("LeftBar");
        var main = document.getElementById("MainFlow");
        var toggle = document.getElementById("ToggleLeft");
        if (b) {
            contents.className = "LeftBar_shown";
            main.className = "MainFlow_indented";
            toggle.innerHTML = "Hide TOC";
            document.cookie = 'tutorial_showLeftBar=yes; path=/';
        } else {
            contents.className = "LeftBar_hidden";
            main.className = "MainFlow_wide";
            toggle.innerHTML = "Show the TOC";
            document.cookie = 'tutorial_showLeftBar=no; path=/';
        }
    }

    function toggleLeft() {
        showLeft(document.getElementById("LeftBar").className ==
                "LeftBar_hidden");
        document.getElementById("ToggleLeft").blur();
    }

    function load() {
        showLeft(leftBar());
        document.getElementById("ToggleLeft").style.display="inline";
    }

    function showCode(displayCodePage, codePath) {
        var codePathEls = codePath.split("/");
        var currDocPathEls = location.href.split("/");
        //alert ("codePathEls = " + codePathEls + "\n" + "currDocPathEls = " + currDocPathEls);
        currDocPathEls.pop(); // remove file name at the end
        while (codePathEls.length > 0) {
            if (codePathEls[0] == "..") {
                codePathEls.shift();
                currDocPathEls.pop();
            } else {
                break;
            }
        }
        var fullCodePath = currDocPathEls.join("/") + "/" + codePathEls.join("/");
        //alert ("fullCodePath = " + fullCodePath );
        if (codePath.indexOf(".java") != -1 || codePath.indexOf(".jnlp") != -1) {
            window.location.href = displayCodePage + "?code=" + encodeURI(fullCodePath);
        } else {
            window.location.href = fullCodePath;
        }
    }
/* ]]> */    
</script>


    </head>
<body onload="load()">
    <noscript>
        这个页面需要一个启用 JavaScript 的浏览器才能正常运行。
    </noscript>
        <!-- header -->
    <div class="header-container">
        <div class="bookwrapper  clearfix">       
            <div id="brandProdName">
                <div id="logocover"></div>
                <div id="productName" >文档</div>
            </div> 
            <br class="clearfloat" />
        </div>
    </div>
    
    <div id="TopBar">
        <div id="TopBar_tr">
            <div id="TopBar_tl">
                <div id="TopBar_br"> <div id="TopBar_bl"> 
                    <div id="TopBar_left">Java™ 教程-Java Tutorials 中文版</div>
                        <div id="TopBar_right"><!--
                            <a href="URL" target="_blank">External Link</a><br/>
                            --> 
                             
                            <a href="javascript:toggleLeft()" id="ToggleLeft">隐藏目录</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div id="LeftBar" class="LeftBar_shown">
        <div id="Contents">
            <div class="linkLESSON"><a href="index.html">JDK 5.0 和 JDK 6 中的新功能</a></div>
<div class="linkAHEAD"><a href="dn.html">获取专有名称</a></div>
<div class="linkAHEAD"><a href="controls-std.html">标准 LDAP 控件</a></div>
<div class="linkAHEAD"><a href="paged-results.html">分页结果控制</a></div>
<div class="linkAHEAD"><a href="sort.html">排序控制</a></div>
<div class="linkAHEAD"><a href="mdsaIT.html">管理推荐控制</a></div>
<div class="nolinkAHEAD">操纵 LdapName(专有名称)</div>
<div class="linkAHEAD"><a href="rdn.html">操纵相对专有名称(RDN)</a></div>
<div class="linkAHEAD"><a href="readtimeout.html">设置 Ldap 操作的超时</a></div>
</div>
    </div>
    <div id="MainFlow" class="MainFlow_indented">
    <div class="PrintHeaders">
        <b>Trail:</b> Java Naming and Directory Interface
        <br /><b>Lesson:</b> New features in JDK 5.0 and JDK 6
    </div>
            <div id="BreadCrumbs">
                <a href="../../index.html" target="_top">主页</a>&gt;<a href="../index.html" target="_top">Java 命名和目录接口</a>&gt;<a href="index.html" target="_top">JDK 5.0 和 JDK 6 中的新功能</a>
            </div>
            <div class="NavBit">
                <a target="_top" href="mdsaIT.html">«&nbsp;上一页</a>&nbsp;•&nbsp;<a target="_top" href="../TOC.html">路径</a>&nbsp;•&nbsp;<a target="_top" href="rdn.html">下一页&nbsp;»</a>
            </div>
            <div class="Banner"><p style="background-color: rgb(247, 248, 249); border-width: 1px; padding: 10px; font-style: italic; border-style: solid; border-color: rgb(64, 74, 91);">Java 教程是为 JDK 8 编写的。本页中描述的示例和实践未利用在后续版本中引入的改进。</p></div>
            <div id="PageTitle"><h1>操纵 LdapName(专有名称)</h1></div>
            <div id="PageContent">

<p>The Distinguished Name (DN) is used by LDAP in its string representation. The string format used to represent a DN is specified in 
<a class="OutsideLink" target="_blank" href="http://www.ietf.org/rfc/rfc2253.txt">RFC 2253</a>. The DN is made up of components called the Relative Distinguished Names (RDN). Below is an example of a DN:</p>
<p>"CN=John Smith, O=Isode Limited, C=GB"</p>
<p>It consist of the following RDNs:</p>
<ul>
<li>CN=John Smith</li>
<li>O=Isode Limited</li>
<li>C=GB</li>
</ul>
<p>The classes below represent the DN and RDN respectively.</p>
<ul>
<li>
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/naming/ldap/LdapName.html"><tt>javax.naming.ldap.LdapName</tt></a></li>
<li>
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/naming/ldap/Rdn.html"><tt>javax.naming.ldap.Rdn</tt></a></li>
</ul>
<p>The LdapName class implements the 
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/naming/Name.html"><tt>javax.naming.Name</tt></a> interface similar to the 
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/naming/Name.html"><tt>javax.naming.CompoundName</tt></a> and 
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/naming/CompositeName.html"><tt>javax.naming.CompositeName</tt></a> classes.</p>
<p>LdapName and Rdn classes allow easy manipulation of DNs and RDNs. Using these APIs it's easy to construct an RDN by pairing up names and values. A DN can be constructed with a list of RDNs. Similarly the individual components of DN and RDN can be retrieved from their string representation.</p>
<h2>LdapName</h2>
<p>An LdapName can be created with its string representation as defined in 

<a class="OutsideLink" target="_blank" href="http://www.ietf.org/rfc/rfc2253.txt">RFC 2253</a> or with a list of Rdns. When the former way is used, the specified string is parsed as per the rules defined in RFC2253. An 
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/naming/InvalidNameException.html"><tt>InvalidNameException</tt></a> is thrown if the string is not a valid DN. Here's an example that uses the constructor to parse an LDAP name and print its components.</p>
<div class="codeblock"><pre>
String name = "cn=Mango,ou=Fruits,o=Food";
try {
    LdapName dn = new LdapName(name);
    System.out.println(dn + " has " + dn.size() + " RDNs: ");
    for (int i = 0; i &lt; dn.size(); i++) {
        System.out.println(dn.get(i));
    }
} catch (InvalidNameException e) {
    System.out.println("Cannot parse name: " + name);
}
</pre></div>
<p>Running this example with an input of <tt>"cn=Mango,ou=Fruits,o=Food"</tt> produces the following results:</p>
<div class="codeblock"><pre>
cn=Mango,ou=Fruits,o=Food has 3 RDNs: 
o=Food
ou=Fruits
cn=Mango
</pre></div>
<p>The LdapName class contains methods to access its components as RDNs and strings, to modify an LdapName, to compare two LdapNames for equality, and to get a string representation of the name.</p>
<h3>Accessing the name components of an LDAP name:</h3>
<p>Here are the methods that you can use to access the name components as RDNs and strings:</p>
<p>
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/naming/ldap/LdapName.html#getRdn-int-"><tt>getRdn(int posn)</tt></a><br />
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/naming/ldap/LdapName.html#get-int-"><tt>get(int posn)</tt></a><br />
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/naming/ldap/LdapName.html#getRdns--"><tt>getRdns()</tt></a><br />
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/naming/ldap/LdapName.html#getAll--"><tt>getAll()</tt></a><br />
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/naming/ldap/LdapName.html#getPrefix-intposn-"><tt>getPrefix(int posn)</tt></a><br />
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/naming/ldap/LdapName.html#getSuffix-intposn-"><tt>getSuffix(int posn)</tt></a><br />
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/naming/ldap/LdapName.html#clone--"><tt>clone()</tt></a></p>
<p>To retrieve the component at a particular position within an LdapName, you use getRdn() or get(). The previous constructor example shows an example of its use. 
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/naming/ldap/LdapName.html#getRdns--"><tt>getRdns()</tt></a> returns a list of all the RDNs and 
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/naming/ldap/LdapName.html#getAll--"><tt>getAll()</tt></a> returns all of the components of an LdapName as an enumeration.</p>
<p>The right most RDN is at index 0, and the left most RDN is at index n-1. For example, the distinguished name: <tt>"cn=Mango, ou=Fruits, o=Food"</tt> is numbered in the following sequence ranging from 0 to 2: <tt>{o=Food, ou=Fruits, cn=Mango}</tt></p>
<p>You can also get a LdapNames's suffix or prefix as a LdapName instance. Here's an 
<a class="SourceLink" target="_blank" href="examples/LdapNameSuffixPrefix.java" onclick="showCode('../../displayCode.html', 'examples/LdapNameSuffixPrefix.java'); return false;"><code>example</code></a> that gets the suffix and prefix of an LDAP name.</p>
<div class="codeblock"><pre>
LdapName dn = new LdapName("cn=Mango, ou=Fruits, o=Food");
Name suffix = dn.getSuffix(1);  // 1 &lt;= index &lt; cn.size()
Name prefix = dn.getPrefix(1);  // 0 &lt;= index &lt; 1
</pre></div>
<p>When you run this program, it generates the following output:</p>
<div class="codeblock"><pre>
cn=Mango ou=Fruits
o=Food 
</pre></div>
<p>To make a copy of an LdapName, you use clone().</p>
<h3>Modifying an LDAP name</h3>
<p>Following are the methods that you can use to modify an LDAP name:</p>
<p>
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/naming/ldap/LdapName.html#add-Rdn-"><tt>add(Rdn rdn)</tt></a><br />
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/naming/ldap/LdapName.html#add-String-"><tt>add(String comp)</tt></a><br />
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/naming/ldap/LdapName.html#add-int-String-"><tt>add(int posn, String comp)</tt></a><br />
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/naming/ldap/LdapName.html#addAll-List-"><tt>addAll(List suffixRdns)</tt></a><br />
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/naming/ldap/LdapName.html#addAll-Namesuffix-"><tt>addAll(Name suffix)</tt></a><br />
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/naming/ldap/LdapName.html#addAll-int-List-"><tt>addAll(int posn, List suffixRdns)</tt></a><br />
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/naming/ldap/LdapName.html#addAll-int-Name-"><tt>addAll(int posn, Name suffix)</tt></a><br />
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/naming/ldap/LdapName.html#remove-int-"><tt>remove(int posn)</tt></a></p>
<p>After creating an LdapName instance, you can add and remove components from it. Here's an 

<a class="SourceLink" target="_blank" href="examples/ModifyLdapName.java" onclick="showCode('../../displayCode.html', 'examples/ModifyLdapName.java'); return false;"><code>example</code></a>
 that appends an LdapName to an existing LdapName, adds components to the front and the end, and removes the second component.</p>
<div class="codeblock"><pre>
     LdapName dn = new LdapName("ou=Fruits,o=Food");
     LdapName dn2 = new LdapName("ou=Summer");
     System.out.println(dn.addAll(dn2)); // ou=Summer,ou=Fruits,o=Food
     System.out.println(dn.add(0, "o=Resources")); 
// ou=Summer,ou=Fruits,o=Food,o=Resources
     System.out.println(dn.add("cn=WaterMelon")); 
// cn=WaterMelon,ou=Summer,ou=Fruits,o=Food,o=Resources
     System.out.println(dn.remove(1));  // o=Food
     System.out.println(dn);  
// cn=WaterMelon,ou=Summer,ou=Fruits,o=Resources
</pre></div>
<h3>Comparing an LDAP name</h3>
<p>Following are the methods that you can use to compare two LDAP names:</p>
<p>
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/naming/ldap/LdapName.html#compareTo-Object-"><tt>compareTo(Object name)</tt></a><br />
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/naming/ldap/LdapName.html#equals-Object-"><tt>equals(Object name)</tt></a><br />
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/naming/ldap/LdapName.html#endsWith-List-"><tt>endsWith(List)</tt></a><br />
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/naming/ldap/LdapName.html#endsWith-Name-"><tt>endWith(Name name)</tt></a><br />
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/naming/ldap/LdapName.html#startsWith-iList-"><tt>startsWith(List rdns)</tt></a><br />
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/naming/ldap/LdapName.html#startsWith-Name-"><tt>startsWith(Name name)</tt></a><br />
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/naming/ldap/LdapName.html#isEmpty--"><tt>isEmpty()</tt></a></p>
<p>You can use <tt>compareTo()</tt> to sort a list of LdapName instances. The <tt>equals()</tt> method lets you determine whether two LdapNames are syntactically equal. Two LdapNames are equal if they both have the same (case-exact matched) components in the same order.</p>
<p>With <tt>startsWith()</tt> and <tt>endsWith()</tt>, you can learn whether an LdapName starts or ends with another LdapName; that is, whether an LdapName is a suffix or prefix of another LdapName.</p>
<p>The convenience method <tt>isEmpty()</tt> enables you to determine whether an LdapName has zero components. You can also use the expression <tt>size() == 0</tt> to perform the same check.</p>
<p>Here is an example,
<a class="SourceLink" target="_blank" href="examples/CompareLdapNames.java" onclick="showCode('../../displayCode.html', 'examples/CompareLdapNames.java'); return false;"><code>CompareLdapNames</code></a>, that uses some of these comparison methods.</p>
<div class="codeblock"><pre>
LdapName one = new LdapName("cn=Vincent Ryan, ou=People, o=JNDITutorial");
LdapName two = new LdapName("cn=Vincent Ryan");
LdapName three = new LdapName("o=JNDITutorial");
LdapName four = new LdapName("");

System.out.println(one.equals(two));        // false
System.out.println(one.startsWith(three));  // true
System.out.println(one.endsWith(two));      // true
System.out.println(one.startsWith(four));   // true
System.out.println(one.endsWith(four));     // true
System.out.println(one.endsWith(three));    // false
System.out.println(one.isEmpty());          // false
System.out.println(four.isEmpty());         // true
System.out.println(four.size() == 0);       // true
</pre></div>
<h3>Getting the String Representation</h3>
<p>The method below gets you the string representation of an LDAP name formatted according to the syntax specified in RFC 2253:</p>
<p>
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/naming/ldap/LdapName.html#toString--"><tt>toString()</tt></a></p>
<p>When you use the LdapName constructor, you supply the string representation of an LDAP name and get back an LdapName instance. To do the reverse, that is, to get the string representation of an LdapName instance, you use <tt>toString()</tt>. The result of <tt>toString()</tt> can be fed back to the constructor to produce a LdapName instance that is equal to the original LdapName instance. Here's an example,

<a class="SourceLink" target="_blank" href="examples/LdapNametoString.java" onclick="showCode('../../displayCode.html', 'examples/LdapNametoString.java'); return false;"><code>LdapNametoString</code></a>
:</p>
<div class="codeblock"><pre>
LdapName dn = new LdapName(name);
String str = dn.toString();
System.out.println(str);
LdapName dn2 = new LdapName(str);
System.out.println(dn.equals(dn2));  // true
</pre></div>
<h3>LdapName as an Argument to Context Methods</h3>
<p>The Context method require either a composite or a compound name passed as argument to its methods. Hence an LdapName can be directly passed to a context method as shown in
<a class="SourceLink" target="_blank" href="examples/LookupLdapName.java" onclick="showCode('../../displayCode.html', 'examples/LookupLdapName.java'); return false;"><code>LookupLdapName</code></a>:</p>
<div class="codeblock"><pre>
// Create the initial context
Context ctx = new InitialContext(env);

// An LDAP name
LdapName dn = new LdapName("ou=People,o=JNDITutorial");

// Perform the lookup using the dn
Object obj = ctx.lookup(dn);
</pre></div>
<p>Similarly, when the Context methods return results from list(), listBindings(), or search() operations, the DN can be retrieved by calling 
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/naming/ldap/LdapName.html#getNameInNamepspace--"><tt>getNameInNamespace()</tt></a>. The LdapName can be constructed directly from the DN as shown in the example,
<a class="SourceLink" target="_blank" href="examples/RetrievingLdapName.java" onclick="showCode('../../displayCode.html', 'examples/RetrievingLdapName.java'); return false;"><code>RetrievingLdapName</code></a>:</p>
<div class="codeblock"><pre>
while (answer.hasMore()) {
    SearchResult sr = (SearchResult) answer.next();
    String name = sr.getNameInNamespace();
    System.out.println(name);
    LdapName dn = new LdapName(name);

    // do something with the dn
</pre></div>

        </div>
        <div class="NavBit">
            <a target="_top" href="mdsaIT.html">« 上一页</a>•<a target="_top" href="../TOC.html">路径</a>•<a target="_top" href="rdn.html">下一页 »</a>
        </div>
    </div>
    
<hr class="clearfloat"/>

<div id="Footer">

<p class="footertext">
<a href="http://www.oracle.com/corporate/index.html">About Oracle</a>| <a href="http://www.oracle.com/us/corporate/contact/index.html">Contact Us</a> | <a href="http://www.oracle.com/us/legal/index.html">Legal Notices</a> | <a href="http://www.oracle.com/us/legal/terms/index.html">Terms of Use</a> | <a href="http://www.oracle.com/us/legal/privacy/index.html">Your Privacy Rights</a> | <a href="https://www.pingfangx.com/xx/translation/java_tutorial">关于汉化</a></p>

<p class="footertext"><a href="http://www.oracle.com/pls/topic/lookup?ctx=cpyr&id=en-US">

Copyright © 1995, 2017 Oracle and/or its affiliates. All rights reserved.</a></p>
       
</div>    
    <div class="PrintHeaders">
        <b>Previous page:</b> Manage Referral Control
        <br /><b>Next page:</b> Manipulating Relative Distringuished Name (RDN)
    </div>
</body>
</html> 
